
<script>
function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();

    reader.onload = function (e) {
      $('#img_prev').attr('src', e.target.result);
      $( ".org_avatar" ).removeAttr('style');
    };

    reader.readAsDataURL(input.files[0]);
  }
}

$(document).ready(function(){
  $(".fakeButton").click(function(){
    $(".actualButton").click();
  });
});

</script>

<div style="height: 120%">
  <div class="box">
  <header class="fulfilled">Make an Organization Account</header>

        <% if flash[:notice] %>
          <div ><%= flash[:notice] %></div>
          <% end %>


    <%= form_for @organization do |f| %>
    <ul class="longSign">
      <li>
        <div class="signUpPic">
          <div class="org_avatar">
            <img id="img_prev" alt="Add Logo Image" src="/assets/placeholderPic.jpg">
          </div>
        <%= cloudinary_js_config %>

        <%= image_tag(@organization.avatar_url) if @organization.avatar? %>
        <%= f.file_field(:avatar, onchange:'readURL(this);', :class=>'actualButton') %>
        <%= f.hidden_field(:avatar_cache) %>
        <div class="fakeButton">Choose File</div>
        </div>
      </li>
      <li>
          <%  if flash[:name] %>
            <p class="error"> Name <%= flash[:name].join(', and ') %></p>
          <% end %>
          <label class="form_label" for="name">*Name: <%= f.text_field :name, :placeholder => "Organization" %></label>
       </li>
        <li>
          <%  if flash[:description] %>
            <p class="error"> Description <%= flash[:description].join(', and ') %></p>
          <% end %>
          <label class="form_label" for="description">*Description: <%= f.text_area :description, :cols => 33, :rows => 5, :placeholder => "A short description of the mission of the organization" %></label>
       </li>

     <li>
        <%  if flash[:address] %>
        <p class="error"> Address <%= flash[:address].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="address">*Address: <%= f.text_field :address, :placeholder => "door, street" %></label>
    </li>
    <li>
        <%  if flash[:city] %>
          <p class="error"> *City <%= flash[:city].join(', and ') %></p>
            <% end %>
        <label class="form_label" for="city">  *City <%= f.text_field :city, :placeholder => "city, state, zip" %></label>
      </li>

     <li>
       <%  if flash[:operation_days] %>
        <p class="error"> Open on Operating Days <%= flash[:operation_days].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="operation_days">*Operating Days: <%= f.text_field :operation_days, :placeholder => "Monday to Friday" %></label>
    </li>
    <li>
      <%  if flash[:opening_time] %>
        <p class="error"> Open from <%= flash[:opening_time].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="opening_time">*Open from: <%= f.time_select :opening_time, {:minute_step => 30, :ampm => true} %></label>
    </li>
     <li>
      <%  if flash[:closing_time] %>
        <p class="error"> Until <%= flash[:closing_time].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="closing_time">*Until: <%= f.time_select :closing_time, {:minute_step => 30, :ampm => true} %></label>
    </li>
    <li>
       <%  if flash[:phone_number] %>
        <p class="error"> Phone Number <%= flash[:phone_number].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="phone">*Phone: <%= f.telephone_field :phone_number, :placeholder => "Don't include the 1" %></label>
    </li>
    <li>
      <%  if flash[:email] %>
        <p class="error"> Email <%= flash[:email].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="email">*Email: <%= f.email_field :email %></label>
    </li>
    <li>
      <%  if flash[:website_url] %>
        <p class="error"> Website url <%= flash[:website_url].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="website">*Website: <%= f.text_field :website_url, :placeholder => "Website URL" %></label>
    </li>
    <li>
      <label class="form_label" for="linked_in">LinkedIn: <%= f.text_field :linked_in_url, :placeholder => "LinkedIn URL" %></label></li>
    <li>
      <label class="form_label" for="facebook">Facebook: <%= f.text_field :facebook_url, :placeholder => "Facebook URL" %></label></li>

    <li>
        <%  if flash[:password] %>
        <p class="error"> Password <%= flash[:password].join(', and ') %></p>
          <% end %>
      <label class="form_label" for="password">*Password: <%= f.password_field :password %></label>
    </li>
    <li>
       <label class="form_label" for="password">*Password Confirm: <%= f.password_field :password_confirmation %></label>
    </li>
    <li>
      <div class="formButton" >
      <%= f.submit 'Register', :class => 'tfbutton' %>
      </div>
      </li><br>
    </ul>
    <% end %>
  </div>

  <div class="placeholderBox">
  </div>
</div>
